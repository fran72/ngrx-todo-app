{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport { borrar, changeToggle, crear, editar, markAll } from './todo.actions';\nimport { Todo } from '../models/todo.model';\nexport const initialState = [new Todo('salvar el mundo'), new Todo('comprar palomitas'), new Todo('mejor robar palomitas'), new Todo('que no te pillen', true)];\nexport const todoReducer = createReducer(initialState, on(crear, (state, {\n  texto\n}) => [...state, new Todo(texto)]),\n// no haces push, para evitar mutar accidentalmente el state\non(changeToggle, (state, {\n  id\n}) => state.map(todo => todo.id === id ? {\n  ...todo,\n  completado: !todo.completado\n} : todo)), on(editar, (state, {\n  id,\n  texto\n}) => state.map(todo => todo.id === id ? {\n  ...todo,\n  texto: texto\n} : todo)), on(borrar, (state, {\n  id\n}) => state.filter(todo => todo.id !== id)), on(markAll, (state, {\n  completado\n}) => state.filter(todo => todo.id !== id)));","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}